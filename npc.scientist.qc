
void() npc_scientist_work;
void() npc_scientist_work_sounds;


void() npc_scientist_work_a_01 = [ 0, npc_scientist_work_a_02 ]
{
	//ai_stand();
	npc_scientist_work_sounds();
};

void() npc_scientist_work_a_02 = [ 1, npc_scientist_work_a_03 ]
{
	//ai_stand();
};

void() npc_scientist_work_a_03 = [ 2, npc_scientist_work_a_04 ]
{
	//ai_stand();
};

void() npc_scientist_work_a_04 = [ 3, npc_scientist_work_a_05 ]
{
	//ai_stand();
};

void() npc_scientist_work_a_05 = [ 4, npc_scientist_work_a_06 ]
{
	//ai_stand();
};

void() npc_scientist_work_a_06 = [ 5, npc_scientist_work_a_07 ]
{
	//ai_stand();
};

void() npc_scientist_work_a_07 = [ 6, npc_scientist_work_a_08 ]
{
	//ai_stand();
};

void() npc_scientist_work_a_08 = [ 7, npc_scientist_work_a_09 ]
{
	//ai_stand();
};

void() npc_scientist_work_a_09 = [ 8, npc_scientist_work_a_10 ]
{
	//ai_stand();
};

void() npc_scientist_work_a_10 = [ 9, npc_scientist_work_a_11 ]
{
	//ai_stand();
};

void() npc_scientist_work_a_11 = [ 10, npc_scientist_work_a_12 ]
{
	//ai_stand();
};

void() npc_scientist_work_a_12 = [ 11, npc_scientist_work_a_13 ]
{
	//ai_stand();
};

void() npc_scientist_work_a_13 = [ 12, npc_scientist_work_a_14 ]
{
	//ai_stand();
};

void() npc_scientist_work_a_14 = [ 13, npc_scientist_work_a_15 ]
{
	//ai_stand();
};

void() npc_scientist_work_a_15 = [ 14, npc_scientist_work_a_16 ]
{
	//ai_stand();
};

void() npc_scientist_work_a_16 = [ 15, npc_scientist_work_a_01 ]
{
	//ai_stand();
	npc_scientist_work();
};

void() npc_scientist_work_b_01 = [ 16, npc_scientist_work_b_02 ]
{
	//ai_stand();
	npc_scientist_work_sounds();
};

void() npc_scientist_work_b_02 = [ 17, npc_scientist_work_b_03 ]
{
	//ai_stand();
};

void() npc_scientist_work_b_03 = [ 18, npc_scientist_work_b_04 ]
{
	//ai_stand();
};

void() npc_scientist_work_b_04 = [ 19, npc_scientist_work_b_05 ]
{
	//ai_stand();
};

void() npc_scientist_work_b_05 = [ 20, npc_scientist_work_b_06 ]
{
	//ai_stand();
};

void() npc_scientist_work_b_06 = [ 21, npc_scientist_work_b_07 ]
{
	//ai_stand();
};

void() npc_scientist_work_b_07 = [ 22, npc_scientist_work_b_08 ]
{
	//ai_stand();
};

void() npc_scientist_work_b_08 = [ 23, npc_scientist_work_b_09 ]
{
	//ai_stand();
};

void() npc_scientist_work_b_09 = [ 24, npc_scientist_work_b_10 ]
{
	//ai_stand();
};

void() npc_scientist_work_b_10 = [ 25, npc_scientist_work_b_01 ]
{
	//ai_stand();
	npc_scientist_work();
};

void() npc_scientist_work_d_01 = [ 26, npc_scientist_work_d_02 ]
{
	//ai_stand();
	npc_scientist_work_sounds();
};

void() npc_scientist_work_d_02 = [ 27, npc_scientist_work_d_03 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_03 = [ 28, npc_scientist_work_d_04 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_04 = [ 29, npc_scientist_work_d_05 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_05 = [ 30, npc_scientist_work_d_06 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_06 = [ 31, npc_scientist_work_d_07 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_07 = [ 32, npc_scientist_work_d_08 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_08 = [ 33, npc_scientist_work_d_09 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_09 = [ 34, npc_scientist_work_d_10 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_10 = [ 35, npc_scientist_work_d_11 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_11 = [ 36, npc_scientist_work_d_12 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_12 = [ 37, npc_scientist_work_d_13 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_13 = [ 38, npc_scientist_work_d_14 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_14 = [ 39, npc_scientist_work_d_15 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_15 = [ 40, npc_scientist_work_d_16 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_16 = [ 41, npc_scientist_work_d_17 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_17 = [ 42, npc_scientist_work_d_18 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_18 = [ 43, npc_scientist_work_d_19 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_19 = [ 44, npc_scientist_work_d_20 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_20 = [ 45, npc_scientist_work_d_21 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_21 = [ 46, npc_scientist_work_d_22 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_22 = [ 47, npc_scientist_work_d_23 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_23 = [ 48, npc_scientist_work_d_24 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_24 = [ 49, npc_scientist_work_d_25 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_25 = [ 50, npc_scientist_work_d_26 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_26 = [ 51, npc_scientist_work_d_27 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_27 = [ 52, npc_scientist_work_d_28 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_28 = [ 53, npc_scientist_work_d_29 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_29 = [ 54, npc_scientist_work_d_30 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_30 = [ 55, npc_scientist_work_d_31 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_31 = [ 56, npc_scientist_work_d_32 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_32 = [ 57, npc_scientist_work_d_33 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_33 = [ 58, npc_scientist_work_d_34 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_34 = [ 59, npc_scientist_work_d_35 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_35 = [ 60, npc_scientist_work_d_36 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_36 = [ 61, npc_scientist_work_d_37 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_37 = [ 62, npc_scientist_work_d_38 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_38 = [ 63, npc_scientist_work_d_39 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_39 = [ 64, npc_scientist_work_d_40 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_40 = [ 65, npc_scientist_work_d_41 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_41 = [ 66, npc_scientist_work_d_42 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_42 = [ 67, npc_scientist_work_d_43 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_43 = [ 68, npc_scientist_work_d_44 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_44 = [ 69, npc_scientist_work_d_45 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_45 = [ 70, npc_scientist_work_d_46 ]
{
	//ai_stand();
};

void() npc_scientist_work_d_46 = [ 71, npc_scientist_work_d_01 ]
{
	//ai_stand();
	npc_scientist_work();
};

void() npc_scientist_work = {
    local float rng;

    rng = random();
    if (rng < 0.3) {
        npc_scientist_work_d_01();
    } else {
        if (rng < 0.6){
            npc_scientist_work_b_01();
        }else {
            npc_scientist_work_a_01();
        }
    }
    
};

void() npc_scientist_work_sounds =
{
	local float rng;


	if (time < self.aflag){
		return;
	}

	rng = random();

	if (rng >= 0.3){
		return;
	}

	rng = random();
	if (rng < 0.125){
		sound(self, 2, "scientist/allnominal.wav", 0.3, 2);
	} else	{
		if (rng < 0.25) {
			sound(self, 2, "scientist/alright.wav", 0.3, 2);
		} else {
			if (rng < 0.375) {
				sound(self, 2, "scientist/asexpected.wav", 0.3, 2);
			} else {
				if (rng < 0.5) {
					sound(self, 2, "scientist/c1a0_sci_crit2a.wav", 0.3, 2);
				} else {
					if (rng < 0.625){
						sound(self, 2, "scientist/cough.wav", 0.3, 2);
					} else {
						if (rng < 0.75){
							sound(self, 2, "scientist/cantbeserious.wav", 0.3, 2);
						} else {
							sound(self, 2, "scientist/c1a0_sci_stall.wav", 0.3, 2);
						}
					}
				}
			}
		}
	}
	
    self.aflag = (time + 3);
};



void() npc_scientist_precache = {
    precache_model("progs/misc/misc_scientist.mdl");
    //misc_scientist_precache();//unnecesary, always loaded
};


void() npc_scientist_start = {
	self.solid = SOLID_BBOX;
	self.movetype = MOVETYPE_TOSS;

	setmodel(self, "progs/misc/misc_scientist.mdl");
	setsize(self, VEC_HULL_MIN, '16 16 40');

    self.think = npc_scientist_work_a_01;
    self.nextthink = time + 0.1 + random()*10; 
};

void() npc_scientist = {
    npc_scientist_precache(); //unnecesary, always called 
    npc_scientist_start();
};



void() npc_door = {
    precache_model("progs/eye1.spr");
    setmodel(self, "progs/eye1.spr");
    self.solid = SOLID_NOT;
    self.movetype = MOVETYPE_NONE;
};